<!-- sldsValidatorIgnore -->
<!--This is child component for displaying product records-->
<template>
    <template if:true={productRecord}>
        <!--template iftrue displays the component if it has any records-->
        <!--productRecord api is iterated through the apex method in JS-->
        <lightning-card title={productRecord.Name} icon-name="custom:custom4" class="product_card">
            <div class="slds-var-m-around_small">
                <lightning-layout>
                    <lightning-layout-item size="8" padding="around-small">
                        <!--layoutItem divides the layout into two parts, one is for image and one is for details-->
                <p style="padding-bottom: 60px;">
                    <!--p tag displays the information in separate paragh after the image-->
                    <strong>Product Name : </strong> {productRecord.Name} <br />
                    <strong>Product Id : </strong> {productRecord.Id__c} <br />
                    <strong>Price : </strong> {productRecord.Price__c} <br/>
                    <strong>Stock Status : </strong> {productRecord.Stock_Status__c}
                </p>
                <div class="slds-align_absolute-center  slds-var-m-bottom_xx-small" style="float: left;">

                    <lightning-button-icon icon-name="utility:dash" variant="brand-outline" title="Decrement" onclick={DecClick} class="slds-var-p-around_xxx-small"></lightning-button-icon>                      

                    <p class="slds-p-around_medium">{count}</p>        

                    <lightning-button-icon icon-name="utility:add" variant="brand-outline"  title="Increment" onclick={IncClick} class="slds-var-p-around_xxx-small"></lightning-button-icon>    

                </div> 
                </lightning-layout-item>
                <lightning-layout-item size="4" padding="around-small">
                    <p>
                        <img src={productRecord.Image__c}  class="product_image"  value={productRecord.Id} onclick={showModalBox}/>

                        <!-- modal start -->      
   <template if:true={isShowModal}>

    <!--
        I Used SLDS for this code
        Here is link https://www.lightningdesignsystem.com/components/modals/
    --> 

<section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true" aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
<div class="slds-modal__container">
<!-- modal header start -->
  <header class="slds-modal__header">
     <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={hideModalBox}>
        <lightning-icon icon-name="utility:close"
           alternative-text="close"
           variant="inverse"
           size="small" ></lightning-icon>
        <span class="slds-assistive-text">Close</span>
     </button>
     <h2 id="modal-heading-01" class="slds-text-heading_medium slds-hyphenate">{productRecord.Name}</h2>
  </header>

  <!-- modal body start -->
  <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">
   

        <div class="slds-box slds-box_x-small slds-text-align_center slds-m-around_x-small" style="font-size: 14px;">

            <lightning-carousel >

                <lightning-carousel-image

                    src ={image1}>

                </lightning-carousel-image>

                <lightning-carousel-image

                    src ={image2}>

                </lightning-carousel-image>

                <lightning-carousel-image

                    src ={image3}>

                </lightning-carousel-image>

            </lightning-carousel>

        </div>

    
  </div>

  <!-- modal footer start-->
  <footer class="slds-modal__footer">
     <button class="slds-button slds-button_neutral" onclick={hideModalBox}>Cancel</button>
     <button class="slds-button slds-button_neutral" onclick={navigateToRelatedPrd}>View Related Products</button>
  </footer>

</div>
</section>
<div class="slds-backdrop slds-backdrop_open"></div>
</template>
<!-- modal end -->

                        <br/>
                        <br/>
                        <a href="#" name="cart" onclick={handleAddToCart}>Add To Cart</a>
                    </p>
                </lightning-layout-item>
                </lightning-layout>
            </div>
        </lightning-card>
    </template>
</template>